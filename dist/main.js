/*! For license information please see main.js.LICENSE.txt */
(()=>{function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(){"use strict";e=function(){return r};var n,r={},o=Object.prototype,i=o.hasOwnProperty,a=Object.defineProperty||function(t,e,n){t[e]=n.value},c="function"==typeof Symbol?Symbol:{},u=c.iterator||"@@iterator",l=c.asyncIterator||"@@asyncIterator",s=c.toStringTag||"@@toStringTag";function f(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{f({},"")}catch(n){f=function(t,e,n){return t[e]=n}}function p(t,e,n,r){var o=e&&e.prototype instanceof w?e:w,i=Object.create(o.prototype),c=new F(r||[]);return a(i,"_invoke",{value:j(t,n,c)}),i}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}r.wrap=p;var d="suspendedStart",y="suspendedYield",v="executing",g="completed",m={};function w(){}function b(){}function x(){}var C={};f(C,u,(function(){return this}));var L=Object.getPrototypeOf,S=L&&L(L(H([])));S&&S!==o&&i.call(S,u)&&(C=S);var k=x.prototype=w.prototype=Object.create(C);function O(t){["next","throw","return"].forEach((function(e){f(t,e,(function(t){return this._invoke(e,t)}))}))}function _(e,n){function r(o,a,c,u){var l=h(e[o],e,a);if("throw"!==l.type){var s=l.arg,f=s.value;return f&&"object"==t(f)&&i.call(f,"__await")?n.resolve(f.__await).then((function(t){r("next",t,c,u)}),(function(t){r("throw",t,c,u)})):n.resolve(f).then((function(t){s.value=t,c(s)}),(function(t){return r("throw",t,c,u)}))}u(l.arg)}var o;a(this,"_invoke",{value:function(t,e){function i(){return new n((function(n,o){r(t,e,n,o)}))}return o=o?o.then(i,i):i()}})}function j(t,e,r){var o=d;return function(i,a){if(o===v)throw new Error("Generator is already running");if(o===g){if("throw"===i)throw a;return{value:n,done:!0}}for(r.method=i,r.arg=a;;){var c=r.delegate;if(c){var u=E(c,r);if(u){if(u===m)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===d)throw o=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=v;var l=h(t,e,r);if("normal"===l.type){if(o=r.done?g:y,l.arg===m)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(o=g,r.method="throw",r.arg=l.arg)}}}function E(t,e){var r=e.method,o=t.iterator[r];if(o===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=n,E(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var i=h(o,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,m;var a=i.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=n),e.delegate=null,m):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,m)}function P(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function T(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function F(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(P,this),this.reset(!0)}function H(e){if(e||""===e){var r=e[u];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function t(){for(;++o<e.length;)if(i.call(e,o))return t.value=e[o],t.done=!1,t;return t.value=n,t.done=!0,t};return a.next=a}}throw new TypeError(t(e)+" is not iterable")}return b.prototype=x,a(k,"constructor",{value:x,configurable:!0}),a(x,"constructor",{value:b,configurable:!0}),b.displayName=f(x,s,"GeneratorFunction"),r.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===b||"GeneratorFunction"===(e.displayName||e.name))},r.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,x):(t.__proto__=x,f(t,s,"GeneratorFunction")),t.prototype=Object.create(k),t},r.awrap=function(t){return{__await:t}},O(_.prototype),f(_.prototype,l,(function(){return this})),r.AsyncIterator=_,r.async=function(t,e,n,o,i){void 0===i&&(i=Promise);var a=new _(p(t,e,n,o),i);return r.isGeneratorFunction(e)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},O(k),f(k,s,"Generator"),f(k,u,(function(){return this})),f(k,"toString",(function(){return"[object Generator]"})),r.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},r.values=H,F.prototype={constructor:F,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(T),!t)for(var e in this)"t"===e.charAt(0)&&i.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=n)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(r,o){return c.type="throw",c.arg=t,e.next=r,o&&(e.method="next",e.arg=n),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],c=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=i.call(a,"catchLoc"),l=i.call(a,"finallyLoc");if(u&&l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),T(n),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;T(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:H(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=n),m}},r}function n(t,e,n,r,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,u(r.key),r)}}function o(t){var e="function"==typeof Map?new Map:void 0;return o=function(t){if(null===t||!function(t){try{return-1!==Function.toString.call(t).indexOf("[native code]")}catch(e){return"function"==typeof t}}(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return function(t,e,n){if(i())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,e);var o=new(t.bind.apply(t,r));return n&&a(o,n.prototype),o}(t,arguments,c(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),a(n,t)},o(t)}function i(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(i=function(){return!!t})()}function a(t,e){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},a(t,e)}function c(t){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},c(t)}function u(e){var n=function(e,n){if("object"!=t(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!=t(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==t(n)?n:String(n)}var l=document.createElement("template");l.innerHTML="<style>".concat("\n.loading {\n    position: absolute;\n    inset: 0;\n    background: rgba(253,22,105,.8);\n    opacity: 1;\n    animation: fade .1s linear;\n}\n\n@keyframes fade {\n  0%,100% { opacity: 0 }\n  50% { opacity: 1 }\n}\n\n.d-none {\n    display: none;\n}\n\np {\n  color: pink;\n}\n\n:host {\n    background: #FFFFFF;\n}\n\n#app {\n    position: relative;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    row-gap:1rem;\n    padding: 16px;\n    max-width: 400px;\n    margin: 0 auto;\n    transition: opacity 420ms ease-in-out;\n    box-shadow: 7.58877px 14.3019px 9.04815px rgba(93, 134, 194, 0.12);\n    border-radius: 45px;\n    overflow: hidden;\n}\n\nimg {\n    width: 101.5px;\n    height: 101.5px;\n    background: #FD1669;\n    border-radius: 999px;\n    flex: none;\n    order: 0;\n    flex-grow: 0;\n}\n\n.tags {\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n    align-items: center;\n    gap: 13.52px;\n}\n\n.tags span {\n    padding: 4px 6px;\n    background: #1F1F1F;\n    border-radius: 2.70333px;\n    color:#fff;\n}\n\nbutton:active{\n    position: relative;\n    top: 3px;\n    left: 3px;\n}\n\nheader {\n  background-color: #252526;\n  color: lime;\n}\n",'</style>\n<div id="app">\n<div class="loading"></div>\n<img src="">\n<div class="name"></div>\n<div class="description"></div>\n<div class="tags"></div>\n<a href="">\n<svg width="36" height="35" viewBox="0 0 36 35" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g filter="url(#filter0_d_511_1307)">\n<rect x="5.38086" y="3.58398" width="25.2385" height="25.2385" rx="3.6998" fill="#00A6ED"/>\n<path d="M16.5881 16.9082C16.5881 17.5558 16.4739 18.1044 16.2453 18.5539C16.0243 19.0035 15.6929 19.3463 15.251 19.5825C14.8091 19.8187 14.2605 19.9368 13.6053 19.9368C12.6605 19.9368 11.9367 19.6854 11.4339 19.1825C10.931 18.6797 10.6796 17.9368 10.6796 16.9539V11.6625H12.7024V16.8397C12.7024 17.3273 12.7786 17.6739 12.931 17.8797C13.091 18.0854 13.3272 18.1882 13.6396 18.1882C13.8529 18.1882 14.0281 18.1463 14.1653 18.0625C14.31 17.9711 14.4129 17.8263 14.4739 17.6282C14.5348 17.4301 14.5653 17.1635 14.5653 16.8282V11.6625H16.5881V16.9082ZM20.5615 11.6625C21.4606 11.6625 22.1349 11.8873 22.5844 12.3368C23.0339 12.7863 23.2587 13.4263 23.2587 14.2568C23.2587 14.653 23.2053 15.0263 23.0987 15.3768C22.992 15.7197 22.8282 16.0206 22.6072 16.2797C22.3863 16.5387 22.1006 16.7444 21.7501 16.8968C21.3996 17.0416 20.9806 17.1139 20.493 17.1139H20.0358V19.8225H18.013V11.6625H20.5615ZM20.4244 13.3539H20.0358V15.4225H20.2872C20.4777 15.4225 20.6415 15.3844 20.7787 15.3082C20.9234 15.232 21.0339 15.1101 21.1101 14.9425C21.1939 14.7749 21.2358 14.5539 21.2358 14.2797C21.2358 13.9825 21.1672 13.7539 21.0301 13.5939C20.9006 13.4339 20.6987 13.3539 20.4244 13.3539ZM26.0325 16.9425H24.3639L24.0782 11.6625H26.3068L26.0325 16.9425ZM24.1011 18.8968C24.1011 18.5387 24.1963 18.272 24.3868 18.0968C24.5849 17.9139 24.8554 17.8225 25.1982 17.8225C25.5258 17.8225 25.7849 17.9139 25.9754 18.0968C26.1658 18.272 26.2611 18.5387 26.2611 18.8968C26.2611 19.2473 26.162 19.5139 25.9639 19.6968C25.7658 19.872 25.5106 19.9597 25.1982 19.9597C24.8706 19.9597 24.6039 19.872 24.3982 19.6968C24.2001 19.5139 24.1011 19.2473 24.1011 18.8968Z" fill="white"/>\n</g>\n<defs>\n<filter id="filter0_d_511_1307" x="0.876753" y="0.205905" width="34.2465" height="34.2467" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">\n<feFlood flood-opacity="0" result="BackgroundImageFix"/>\n<feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>\n<feOffset dy="1.12603"/>\n<feGaussianBlur stdDeviation="2.25205"/>\n<feComposite in2="hardAlpha" operator="out"/>\n<feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"/>\n<feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_511_1307"/>\n<feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_511_1307" result="shape"/>\n</filter>\n</defs>\n</svg>\n</a>\n</div>');var s,f,p,h=function(o){function u(){var e,n,r,o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(n=this,r=u,r=c(r),e=function(e,n){if(n&&("object"===t(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(e)}(n,i()?Reflect.construct(r,o||[],c(n).constructor):r.apply(n,o))).attachShadow({mode:"open"}),console.log(e.shadowRoot),e.shadowRoot.appendChild(l.content.cloneNode(!0)),e}var s,f;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&a(t,e)}(u,o),s=u,f=[{key:"loading",value:function(){this.shadowRoot.querySelector(".loading").classList.toggle("d-none")}},{key:"readProfile",value:function(){var t=this,r=new Headers;r.append("Content-Type","application/json");var o={method:"POST",headers:r,body:JSON.stringify({jsonrpc:"2.0",method:"eth_call",params:[{to:this.walletAddress,data:"0x54f6127f5ef83ad9559033e6e941db7d7c495acdce616347d28e90c7ce47cbfcfcad3bc5"},"latest"]}),redirect:"follow"};fetch("https://rpc".concat("testnet"===this.getAttribute("network")?".testnet":"",".lukso.gateway.fm"),o).then((function(t){return t.json()})).then(function(){var r,o=(r=e().mark((function n(r){var o,i,a,c,u,l;return e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(console.log(r),o=r.result.substr(210,106),console.log("hex",o),i=[],c=0;c<o.length-1;c+=2)i.push(parseInt(o.substr(c,2),16));return a=String.fromCharCode.apply(String,i).replace("ipfs://","").replace("://","").trim(),console.log(a),e.next=9,fetch("https://api.universalprofile.cloud/ipfs/".concat(encodeURI(a)));case 9:if((u=e.sent).ok){e.next=12;break}throw new Response("Failed to get data",{status:500});case 12:return e.next=14,u.json();case 14:l=e.sent,console.log(l),t.shadowRoot.querySelector("img").src="https://api.universalprofile.cloud/ipfs/".concat(l.LSP3Profile.profileImage[0].url.replace("ipfs://","")),t.shadowRoot.querySelector(".name").innerHTML="@".concat(l.LSP3Profile.name),t.shadowRoot.querySelector(".description").innerHTML="".concat(l.LSP3Profile.description),l.LSP3Profile.tags.map((function(e){t.shadowRoot.querySelector(".tags").innerHTML+='<span class="tag">'.concat(e,"</span>")})),t.shadowRoot.querySelector("a").href="https://wallet.universalprofile.cloud/".concat(t.walletAddress,"?network=mainnet&referrer=lukso-power-upfs"),t.loading();case 22:case"end":return e.stop()}}),n)})),function(){var t=this,e=arguments;return new Promise((function(o,i){var a=r.apply(t,e);function c(t){n(a,o,i,c,u,"next",t)}function u(t){n(a,o,i,c,u,"throw",t)}c(void 0)}))});return function(t){return o.apply(this,arguments)}}()).catch((function(t){return console.error(t)}))}},{key:"attributeChangedCallback",value:function(t,e,n){console.log("Attribute ".concat(t," has changed from ").concat(e," to ").concat(n,".")),this.walletAddress=n,this.readProfile()}},{key:"getTmpl",value:function(){return l}},{key:"getTmplRaw",value:function(){return l.innerHTML}},{key:"connectedCallback",value:function(){console.log("Custom element added to page.")}},{key:"disconnectedCallback",value:function(){console.log("Custom element removed from page.")}}],f&&r(s.prototype,f),Object.defineProperty(s,"prototype",{writable:!1}),u}(o(HTMLElement));s=h,p=["wallet-addr"],(f=u(f="observedAttributes"))in s?Object.defineProperty(s,f,{value:p,enumerable:!0,configurable:!0,writable:!0}):s[f]=p,customElements.define("lukso-powerup",h)})();